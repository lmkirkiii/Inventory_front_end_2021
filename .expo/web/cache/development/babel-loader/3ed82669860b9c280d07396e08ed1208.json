{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/lawrencekirk/Project1Inventory/ProductNative/2ndtry/mernn-todo-boilerplate/client/screens/ProductScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { LineChart, BarChart, PieChart, ProgressChart, ContributionGraph, StackedBarChart } from \"react-native-chart-kit\";\nimport Product from \"../components/Product\";\nimport { Ionicons } from \"@expo/vector-icons\";\nexport default function ProductScreen(_ref) {\n  var navigation = _ref.navigation;\n  var tierID = navigation.getParam(\"tierID\");\n  var tierName = navigation.getParam(\"tierName\");\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productsCollection = _useState2[0],\n      setProducts = _useState2[1];\n\n  useEffect(function () {\n    fetch(\"http://localhost:4001/products/tiers/\" + tierID).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      console.log(res._id);\n\n      if (res && !productsCollection.length) {\n        setProducts(res);\n      }\n    });\n    navigation.addListener(\"didFocus\", function (payload) {\n      fetch(\"http://localhost:4001/products/tiers/\" + tierID).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(res);\n\n        if (res && !productsCollection.length) {\n          setProducts(res);\n        }\n\n        console.log(res);\n      });\n    });\n  }, []);\n\n  var updatedProducts = function updatedProducts(productID) {\n    console.log(\"!!!!!!!!!\" + productsCollection);\n    var updatedCollection = productsCollection.filter(function (product) {\n      return product._id !== productID;\n    });\n    setProducts(updatedCollection);\n  };\n\n  var addedProduct = function addedProduct(product) {\n    var newProduct = {\n      product_name: product.product_name\n    };\n    setProducts([].concat(_toConsumableArray(productsCollection), [newProduct]));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#605e5e\",\n      marginLeft: 20,\n      marginTop: 10,\n      marginBottom: 10,\n      fontWeight: \"900\",\n      fontSize: 25\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    }\n  }, \"Current Products\"), React.createElement(ScrollView, {\n    style: styles.container,\n    contentContainerStyle: styles.contentContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    }\n  }, productsCollection ? productsCollection.map(function (productObj) {\n    return React.createElement(Product, {\n      navigator: navigation,\n      key: productObj._id,\n      product_ID: productObj._id,\n      product: productObj.product_name,\n      quantity: productObj.product_quantity,\n      updatedProducts: updatedProducts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      }\n    });\n  }) : React.createElement(Text, {\n    style: {\n      marginTop: 10,\n      marginLeft: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    }\n  }, \"Products: None!\")), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return navigation.navigate('SpecificTierMetrics', {\n        productsCollection: productsCollection,\n        tierId: tierID,\n        tierName: tierName\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    }\n  }, tierName, \" Metrics\")));\n}\n\nProductScreen.navigationOptions = function (_ref2) {\n  var navigation = _ref2.navigation;\n  return {\n    title: \"Products\",\n    headerTitleStyle: {\n      color: \"black\",\n      textAlign: \"left\",\n      fontSize: 18,\n      fontWeight: \"900\"\n    },\n    headerTintColor: \"rgba(255,255,255,0.8)\",\n    headerRightContainerStyle: {\n      paddingRight: 10\n    },\n    headerRight: React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        var tierID = navigation.getParam(\"tierID\");\n        navigation.navigate(\"ProductFormScreen\", {\n          tier_ID: tierID\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      }\n    }, React.createElement(Ionicons, {\n      name: \"ios-add\",\n      size: 30,\n      color: \"black\",\n      left: 50,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      }\n    }))\n  };\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    color: \"rgba(0,0,0,0.4)\",\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\"\n  },\n  contentContainer: {\n    paddingTop: 30\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50\n  },\n  homeScreenFilename: {\n    marginVertical: 7\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\"\n  },\n  codeHighlightContainer: {\n    backgroundColor: \"rgba(0,0,0,0.05)\",\n    borderRadius: 3,\n    paddingHorizontal: 4\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 15,\n    borderRadius: 4,\n    elevation: 3,\n    margin: 20,\n    backgroundColor: 'black'\n  },\n  getStartedText: {\n    fontSize: 17,\n    color: \"rgba(96,100,109, 1)\",\n    lineHeight: 24,\n    textAlign: \"center\"\n  },\n  tabBarInfoContainer: _objectSpread({\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0\n  }, Platform.select({\n    ios: {\n      shadowColor: \"black\",\n      shadowOffset: {\n        width: 0,\n        height: -3\n      },\n      shadowOpacity: 0.1,\n      shadowRadius: 3\n    },\n    android: {\n      elevation: 20\n    }\n  }), {\n    alignItems: \"center\",\n    backgroundColor: \"#fbfbfb\",\n    paddingVertical: 20\n  }),\n  tabBarInfoText: {\n    fontSize: 17,\n    color: \"rgba(96,100,109, 1)\",\n    textAlign: \"center\"\n  },\n  navigationFilename: {\n    marginTop: 5\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  helpContainer: {\n    marginTop: 15,\n    alignItems: \"center\"\n  },\n  helpLink: {\n    paddingVertical: 15\n  },\n  helpLinkText: {\n    fontSize: 14,\n    color: \"#2e78b7\"\n  }\n});","map":{"version":3,"sources":["/Users/lawrencekirk/Project1Inventory/ProductNative/2ndtry/mernn-todo-boilerplate/client/screens/ProductScreen.js"],"names":["React","useState","useEffect","LineChart","BarChart","PieChart","ProgressChart","ContributionGraph","StackedBarChart","Product","Ionicons","ProductScreen","navigation","tierID","getParam","tierName","productsCollection","setProducts","fetch","then","res","json","console","log","_id","length","addListener","payload","updatedProducts","productID","updatedCollection","filter","product","addedProduct","newProduct","product_name","styles","container","color","marginLeft","marginTop","marginBottom","fontWeight","fontSize","contentContainer","map","productObj","product_quantity","button","navigate","tierId","text","navigationOptions","title","headerTitleStyle","textAlign","headerTintColor","headerRightContainerStyle","paddingRight","headerRight","tier_ID","StyleSheet","create","flex","backgroundColor","developmentModeText","lineHeight","paddingTop","welcomeContainer","alignItems","welcomeImage","width","height","resizeMode","getStartedContainer","marginHorizontal","homeScreenFilename","marginVertical","codeHighlightText","codeHighlightContainer","borderRadius","paddingHorizontal","justifyContent","paddingVertical","elevation","margin","getStartedText","tabBarInfoContainer","position","bottom","left","right","Platform","select","ios","shadowColor","shadowOffset","shadowOpacity","shadowRadius","android","tabBarInfoText","navigationFilename","letterSpacing","helpContainer","helpLink","helpLinkText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  TextInput,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  Dimensions\n} from \"react-native\";\nimport {\n  LineChart,\n  BarChart,\n  PieChart,\n  ProgressChart,\n  ContributionGraph,\n  StackedBarChart\n} from \"react-native-chart-kit\";\nimport Product from \"../components/Product\";\n\nimport { Ionicons } from \"@expo/vector-icons\";\n\n\nexport default function ProductScreen({navigation}) {\n\nconst tierID = navigation.getParam(\"tierID\")\nconst tierName = navigation.getParam(\"tierName\")\n\n// console.log(\"PARAMS\" + \" \"+ navigation.params.tierID)\n\n\n\n  const [productsCollection, setProducts] = useState([]);\n\n\n  useEffect(() => {\n    fetch(\"http://localhost:4001/products/tiers/\"+tierID)\n      .then(res => res.json())\n      .then(res => {\n        console.log(res._id)\n        if (res && !productsCollection.length) {\n          setProducts(res);\n        }\n      });\n\n    navigation.addListener(\"didFocus\", payload => {\n      fetch(\"http://localhost:4001/products/tiers/\"+tierID)\n        .then(res => res.json())\n        .then(res => {\n          console.log(res)\n          if (res && !productsCollection.length) {\n            setProducts(res);\n          }\n          console.log(res);\n        });\n    });\n  }, []);\n  const updatedProducts = productID => {\n    console.log(\"!!!!!!!!!\"+productsCollection)\n    let updatedCollection = productsCollection.filter(product => product._id !== productID);\n    setProducts(updatedCollection);\n  };\n\n  const addedProduct = product => {\n    const newProduct = {\n      product_name: product.product_name,\n    };\n    setProducts([...productsCollection, newProduct]);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text\n        style={{\n          color: \"#605e5e\",\n          marginLeft: 20,\n          marginTop: 10,\n          marginBottom: 10,\n          fontWeight: \"900\",\n          fontSize: 25\n        }}\n      >\n        Current Products \n      </Text>\n      <ScrollView\n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        {productsCollection ? (\n          productsCollection.map(productObj => {\n\n            return (\n              <Product\n                navigator ={navigation}\n                key={productObj._id}\n                product_ID={productObj._id}\n                product={productObj.product_name}\n                quantity={productObj.product_quantity}\n                updatedProducts={updatedProducts}\n              />\n            );\n          })\n        ) : (\n          <Text style={{ marginTop: 10, marginLeft: 20 }}>Products: None!</Text>\n        )}\n      </ScrollView>\n      <TouchableOpacity\n        style={styles.button}\n        onPress={() => navigation.navigate('SpecificTierMetrics',\n        {\n          productsCollection: productsCollection,\n          tierId: tierID,\n          tierName: tierName\n        })}\n      >\n        <Text style={styles.text}>{tierName} Metrics</Text>\n      </TouchableOpacity>\n          \n      \n    </View>\n    \n  );\n}\nProductScreen.navigationOptions = ({ navigation }) => ({\n  title: \"Products\",\n  headerTitleStyle: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: 18,\n    fontWeight: \"900\"\n  },\n  headerTintColor: \"rgba(255,255,255,0.8)\",\n  \n  headerRightContainerStyle: {\n    paddingRight: 10\n  },\n  headerRight: (\n    <TouchableOpacity\n      onPress={() => {\n        const tierID = navigation.getParam(\"tierID\")\n        navigation.navigate(\"ProductFormScreen\", {\n          tier_ID: tierID\n        });\n      }}\n    >\n      <Ionicons name=\"ios-add\" size={30} color=\"black\" left={50} />\n    </TouchableOpacity>\n  )\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    color: \"rgba(0,0,0,0.4)\",\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\"\n  },\n  contentContainer: {\n    paddingTop: 30\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50\n  },\n  homeScreenFilename: {\n    marginVertical: 7\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\"\n  },\n  codeHighlightContainer: {\n    backgroundColor: \"rgba(0,0,0,0.05)\",\n    borderRadius: 3,\n    paddingHorizontal: 4\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 15,\n    borderRadius: 4,\n    elevation: 3,\n    margin: 20,\n    backgroundColor: 'black',\n  },\n  getStartedText: {\n    fontSize: 17,\n    color: \"rgba(96,100,109, 1)\",\n    lineHeight: 24,\n    textAlign: \"center\"\n  },\n  tabBarInfoContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    ...Platform.select({\n      ios: {\n        shadowColor: \"black\",\n        shadowOffset: { width: 0, height: -3 },\n        shadowOpacity: 0.1,\n        shadowRadius: 3\n      },\n      android: {\n        elevation: 20\n      }\n    }),\n    alignItems: \"center\",\n    backgroundColor: \"#fbfbfb\",\n    paddingVertical: 20\n  },\n  tabBarInfoText: {\n    fontSize: 17,\n    color: \"rgba(96,100,109, 1)\",\n    textAlign: \"center\"\n  },\n  navigationFilename: {\n    marginTop: 5\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white',\n  },\n  helpContainer: {\n    marginTop: 15,\n    alignItems: \"center\"\n  },\n  helpLink: {\n    paddingVertical: 15\n  },\n  helpLinkText: {\n    fontSize: 14,\n    color: \"#2e78b7\"\n  }\n});\n"]},"metadata":{},"sourceType":"module"}